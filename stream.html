<!DOCTYPE html>
<html>
  <head>
    <script async defer data-domain="jamesa.me" src="https://plausible.io/js/plausible.js"></script>

    <title>Stream - James Anderson</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta name="description" content="James Anderson is livestreaming!" />
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <article>
      <p>
        <span id="name"><a href="/">James Anderson</a></span>
      </p>
      <p>Test Stream</p>
      <p>
        <video
          id="video"
          controls
          src="https://stream.mux.com/8fq7STm8Izl9fWuQIXexO16PFaOM9SH5.m3u8"
        ></video>
      </p>
    </article>

    <script>
      var video = document.getElementById("video");
      var videoSrc =
        "https://stream.mux.com/8fq7STm8Izl9fWuQIXexO16PFaOM9SH5.m3u8";
      if (Hls.isSupported()) {
        var hls = new Hls();
        hls.loadSource(videoSrc);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, function () {
          video.play();
        });
      } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
        video.src = videoSrc;
        video.addEventListener("loadedmetadata", function () {
          video.play();
        });
      }
    </script>
  </body>
</html>
